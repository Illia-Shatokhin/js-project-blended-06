import{b as I,c as M}from"./header-6add048a.js";import{c as y,r as h}from"./catalogMovieCard-213a6ac9.js";async function L(){const e=await I();screen.width<=767?y(e.results,h.weeklyLinks,1):y(e.results,h.weeklyLinks,3)}const g=document.querySelector(".film-card");function N(e,o,t){const a=Math.round(e),i=a%2===0?a/2:(a-1)/2,n=Math.round(10-e),r=n%2===0?n/2:(n-1)/2,l=n%2!==0;for(let s=0;s<i;s++)g.insertAdjacentHTML("beforeend",u("icon-star-outline",o,t));l&&g.insertAdjacentHTML("beforeend",u("close",o,t));for(let s=0;s<r;s++)g.insertAdjacentHTML("beforeend",u("search",o,t))}N(7.51,40,40);function u(e,o,t){return`<svg class="icon-star" width="${o}" height="${t}">
      <use href="./img/symbols.svg#${e}"></use>
  </svg>`}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const b=new Date;b.getMonth();const E={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",E).then(e=>e.json()).then(e=>{const o=e.results;if(o.length===0){const t=document.createElement("p");t.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(t)}else{const t=b.getMonth()+1,a=[];if(o.forEach(i=>{new Date(i.release_date).getMonth()+1===t&&a.push(i)}),a.length>0){const i=Math.floor(Math.random()*a.length),n=a[i],r=document.createElement("div");r.className="film-card";const l=document.querySelector(".upcoming-film-image-container"),s=document.createElement("img");s.className="film-image",s.src=`https://image.tmdb.org/t/p/original/${n.backdrop_path}`,l.appendChild(s);const m=document.createElement("h2");m.className="film-title",m.textContent=n.title,r.appendChild(m);const d=document.createElement("p");d.className="film-release-date",d.textContent=`Release Date: ${n.release_date}`,r.appendChild(d);const f=document.createElement("p");f.className="film-rating",f.textContent=`Rating: ${n.vote_average}`,r.appendChild(f);const p=document.createElement("p");p.className="film-description",p.textContent=n.overview,r.appendChild(p);const c=document.createElement("button");c.className="library-button button btn-gradient",C(n.id)?c.textContent="Remove from My Library":c.textContent="Add to My Library",c.addEventListener("click",()=>S(n,c)),r.appendChild(c),document.getElementById("film-container").appendChild(r)}else{const i=document.createElement("p");i.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(i)}}});function C(e){return JSON.parse(localStorage.getItem("myLibrary")).some(t=>t.id===e)}function S(e,o){const t=JSON.parse(localStorage.getItem("myLibrary")),a=t.findIndex(i=>i.id===e.id);a===-1?t.push(e):t.splice(a,1),localStorage.setItem("myLibrary",JSON.stringify(t)),C(e.id)?o.textContent="Remove from My Library":o.textContent="Add to My Library"}M();L();
