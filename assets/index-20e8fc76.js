import{a as h,c as M}from"./header-64e4a2e9.js";import{c as y,r as b}from"./catalogMovieCard-a45aa5ed.js";screen.width<=767?y(h,b.weeklyLinks,1):y(h,b.weeklyLinks,3);const g=document.querySelector(".film-card");function L(t,o,e){const a=Math.round(t),i=a%2===0?a/2:(a-1)/2,n=Math.round(10-t),r=n%2===0?n/2:(n-1)/2,l=n%2!==0;for(let s=0;s<i;s++)g.insertAdjacentHTML("beforeend",u("icon-star-outline",o,e));l&&g.insertAdjacentHTML("beforeend",u("close",o,e));for(let s=0;s<r;s++)g.insertAdjacentHTML("beforeend",u("search",o,e))}L(7.51,40,40);function u(t,o,e){return`<svg class="icon-star" width="${o}" height="${e}">
      <use href="./img/symbols.svg#${t}"></use>
  </svg>`}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const C=new Date;C.getMonth();const N={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",N).then(t=>t.json()).then(t=>{const o=t.results;if(o.length===0){const e=document.createElement("p");e.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(e)}else{const e=C.getMonth()+1,a=[];if(o.forEach(i=>{new Date(i.release_date).getMonth()+1===e&&a.push(i)}),a.length>0){const i=Math.floor(Math.random()*a.length),n=a[i],r=document.createElement("div");r.className="film-card";const l=document.querySelector(".upcoming-film-image-container"),s=document.createElement("img");s.className="film-image",s.src=`https://image.tmdb.org/t/p/original/${n.backdrop_path}`,l.appendChild(s);const m=document.createElement("h2");m.className="film-title",m.textContent=n.title,r.appendChild(m);const d=document.createElement("p");d.className="film-release-date",d.textContent=`Release Date: ${n.release_date}`,r.appendChild(d);const f=document.createElement("p");f.className="film-rating",f.textContent=`Rating: ${n.vote_average}`,r.appendChild(f);const p=document.createElement("p");p.className="film-description",p.textContent=n.overview,r.appendChild(p);const c=document.createElement("button");c.className="library-button button btn-gradient",I(n.id)?c.textContent="Remove from My Library":c.textContent="Add to My Library",c.addEventListener("click",()=>E(n,c)),r.appendChild(c),document.getElementById("film-container").appendChild(r)}else{const i=document.createElement("p");i.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(i)}}});function I(t){return JSON.parse(localStorage.getItem("myLibrary")).some(e=>e.id===t)}function E(t,o){const e=JSON.parse(localStorage.getItem("myLibrary")),a=e.findIndex(i=>i.id===t.id);a===-1?e.push(t):e.splice(a,1),localStorage.setItem("myLibrary",JSON.stringify(e)),I(t.id)?o.textContent="Remove from My Library":o.textContent="Add to My Library"}M();
