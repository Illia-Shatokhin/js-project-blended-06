import"./hero-2a043042.js";import"./modalWindow-f285fa5e.js";const c=document.querySelector(".film-card");function b(t,o,e){const i=Math.round(t),a=i%2===0?i/2:(i-1)/2,n=Math.round(10-t),r=n%2===0?n/2:(n-1)/2,m=n%2!==0;for(let s=0;s<a;s++)c.insertAdjacentHTML("beforeend",u("icon-star-outline",o,e));m&&c.insertAdjacentHTML("beforeend",u("close",o,e));for(let s=0;s<r;s++)c.insertAdjacentHTML("beforeend",u("search",o,e))}b(7.51,40,40);console.log(c);function u(t,o,e){return`<svg class="icon-star" width="${o}" height="${e}">
      <use href="./public/img/symbols.svg#${t}"></use>
  </svg>`}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const h=new Date;h.getMonth();const C={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",C).then(t=>t.json()).then(t=>{const o=t.results;if(o.length===0){const e=document.createElement("p");e.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(e)}else{const e=h.getMonth()+1,i=[];if(o.forEach(a=>{new Date(a.release_date).getMonth()+1===e&&i.push(a)}),i.length>0){const a=Math.floor(Math.random()*i.length),n=i[a],r=document.createElement("div");r.className="film-card";const m=document.querySelector(".upcoming-film-image-container"),s=document.createElement("img");s.className="film-image",s.src=`https://image.tmdb.org/t/p/original/${n.backdrop_path}`,m.appendChild(s);const d=document.createElement("h2");d.className="film-title",d.textContent=n.title,r.appendChild(d);const f=document.createElement("p");f.className="film-release-date",f.textContent=`Release Date: ${n.release_date}`,r.appendChild(f);const p=document.createElement("p");p.className="film-rating",p.textContent=`Rating: ${n.vote_average}`,r.appendChild(p);const g=document.createElement("p");g.className="film-description",g.textContent=n.overview,r.appendChild(g);const l=document.createElement("button");l.className="library-button button btn-gradient",y(n.id)?l.textContent="Remove from My Library":l.textContent="Add to My Library",l.addEventListener("click",()=>I(n,l)),r.appendChild(l),document.getElementById("film-container").appendChild(r)}else{const a=document.createElement("p");a.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(a)}}});function y(t){return JSON.parse(localStorage.getItem("myLibrary")).some(e=>e.id===t)}function I(t,o){const e=JSON.parse(localStorage.getItem("myLibrary")),i=e.findIndex(a=>a.id===t.id);i===-1?e.push(t):e.splice(i,1),localStorage.setItem("myLibrary",JSON.stringify(e)),y(t.id)?o.textContent="Remove from My Library":o.textContent="Add to My Library"}
