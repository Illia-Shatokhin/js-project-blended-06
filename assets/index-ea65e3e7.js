import"./hero-6f4df1c0.js";localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const g=new Date;g.getMonth();const y={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",y).then(t=>t.json()).then(t=>{const m=t.results;if(m.length===0){const e=document.createElement("p");e.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(e)}else{const e=g.getMonth()+1,o=[];if(m.forEach(n=>{new Date(n.release_date).getMonth()+1===e&&o.push(n)}),o.length>0){const n=Math.floor(Math.random()*o.length),i=o[n],a=document.createElement("div");a.className="film-card";const h=document.querySelector(".upcoming-film-image-container"),r=document.createElement("img");r.className="film-image",r.src=`https://image.tmdb.org/t/p/original/${i.backdrop_path}`,h.appendChild(r);const c=document.createElement("h2");c.className="film-title",c.textContent=i.title,a.appendChild(c);const s=document.createElement("p");s.className="film-release-date",s.textContent=`Release Date: ${i.release_date}`,a.appendChild(s);const d=document.createElement("p");d.className="film-rating",d.textContent=`Rating: ${i.vote_average}`,a.appendChild(d);const p=document.createElement("p");p.className="film-description",p.textContent=i.overview,a.appendChild(p);const l=document.createElement("button");l.className="library-button button btn-gradient",f(i.id)?l.textContent="Remove from My Library":l.textContent="Add to My Library",l.addEventListener("click",()=>u(i,l)),a.appendChild(l),document.getElementById("film-container").appendChild(a)}else{const n=document.createElement("p");n.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(n)}}});function f(t){return JSON.parse(localStorage.getItem("myLibrary")).some(e=>e.id===t)}function u(t,m){const e=JSON.parse(localStorage.getItem("myLibrary")),o=e.findIndex(n=>n.id===t.id);o===-1?e.push(t):e.splice(o,1),localStorage.setItem("myLibrary",JSON.stringify(e)),f(t.id)?m.textContent="Remove from My Library":m.textContent="Add to My Library"}
