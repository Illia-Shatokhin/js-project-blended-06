import{i as W,c as M,r as g,o as D,a as O,e as R,b as Z}from"./header-98979d79.js";import"./get-default-data-57ea3a0f.js";async function z(){try{const e=await W();screen.width<=767?M(e.results,g.weeklyLinks,1):M(e.results,g.weeklyLinks,3),g.weeklyLinks.addEventListener("click",D)}catch(e){console.error(e),O(g.weeklyLinks,R)}}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const j=new Date;j.getMonth();const k={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",k).then(e=>e.json()).then(e=>{const n={};e.genres.forEach(t=>{n[t.id]=t.name}),fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",k).then(t=>t.json()).then(t=>{const s=t.results;if(s.length===0){const r=document.createElement("p");r.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(r)}else{const r=j.getMonth()+1,c=[];if(s.forEach(l=>{new Date(l.release_date).getMonth()+1===r&&c.push(l)}),c.length>0){const l=Math.floor(Math.random()*c.length),a=c[l],i=document.createElement("div");i.className="film-card";const S=document.querySelector(".upcoming-film-image-container"),h=document.createElement("img");h.className="film-image",h.src=`https://image.tmdb.org/t/p/original/${a.backdrop_path}`,S.appendChild(h);const y=document.createElement("h2");y.className="film-title",y.textContent=a.title,i.appendChild(y);const m=document.createElement("div");m.className="film-release-wrap",i.appendChild(m);const u=document.createElement("p");u.className="film-release-text",u.textContent="Release Date",m.appendChild(u);const C=document.createElement("p");C.className="film-release-date",C.textContent=a.release_date,m.appendChild(C);const d=document.createElement("div");d.className="film-vote-wrap",i.appendChild(d);const E=document.createElement("p");E.className="film-vote-text",E.textContent="Vote / Votes",d.appendChild(E);const N=document.createElement("p");N.className="film-votes",N.innerHTML=`<span class="vote-average">${a.vote_average}</span> / <span class="vote-count">${a.vote_count}</span>`,d.appendChild(N);const p=document.createElement("div");p.className="film-popularity-wrap",i.appendChild(p);const b=document.createElement("p");b.className="film-rating-text",b.textContent="Popularity",p.appendChild(b);const x=document.createElement("p");x.className="film-rating",x.textContent=`${a.popularity.toFixed(1)}`,p.appendChild(x);const f=document.createElement("div");f.className="film-genre-wrap",i.appendChild(f);const v=document.createElement("p");v.className="film-genre-text",v.textContent="Genre",f.appendChild(v);const L=document.createElement("p");L.className="film-genre";const J=a.genre_ids.map(T=>n[T]);L.textContent=`${J.join(", ")}`,f.appendChild(L);const I=document.createElement("p");I.className="film-about",I.textContent="ABOUT",i.appendChild(I);const w=document.createElement("p");w.className="film-description",w.textContent=a.overview,i.appendChild(w);const o=document.createElement("button");o.className="library-button button btn-gradient",G(a.id)?(o.textContent="Remove from My Library",o.classList.remove("btn-gradient")):(o.textContent="Add to My Library",o.classList.add("btn-gradient")),o.addEventListener("click",()=>B(a,o)),i.appendChild(o),document.getElementById("film-container").appendChild(i)}else{const l=document.createElement("p");l.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(l)}}})});function G(e){return JSON.parse(localStorage.getItem("myLibrary")).some(t=>t.id===e)}function B(e,n){const t=JSON.parse(localStorage.getItem("myLibrary")),s=t.findIndex(r=>r.id===e.id);s===-1?t.push(e):t.splice(s,1),localStorage.setItem("myLibrary",JSON.stringify(t)),G(e.id)?(n.textContent="Remove from My Library",n.classList.remove("btn-gradient"),n.style.background="white",n.style.color="orange"):(n.textContent="Add to My Library",n.classList.add("btn-gradient"),n.style.background="var(--basic-gradient)",n.style.color="black")}Z("hero/catalog");z();
