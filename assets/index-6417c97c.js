import{f as P,c as B,r as u,o as X,a as K,e as ee,n as G,b as te,t as ne}from"./button-to-header-dd034359.js";async function ae(){try{const e=await P();screen.width<=767?B(e.results,u.weeklyLinks,1):B(e.results,u.weeklyLinks,3),u.weeklyLinks.addEventListener("click",X)}catch(e){console.error(e),K(u.weeklyLinks,ee)}}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const W=new Date;W.getMonth();const j={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",j).then(e=>e.json()).then(e=>{G.Loading.standard("Loading...",{backgroundColor:"rgba(0,0,0,0.8)",svgColor:"rgb(248, 119, 25)"});const n={};e.genres.forEach(t=>{n[t.id]=t.name}),fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",j).then(t=>t.json()).then(t=>{const c=t.results;if(c.length===0){const l=document.createElement("p");l.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(l)}else{const l=W.getMonth()+1,m=[];if(c.forEach(i=>{new Date(i.release_date).getMonth()+1===l&&m.push(i)}),m.length>0){let $=function(S){const D=new Date(S),q=String(D.getDate()).padStart(2,"0"),H=String(D.getMonth()+1).padStart(2,"0"),Q=D.getFullYear();return`${q}.${H}.${Q}`};const i=Math.floor(Math.random()*m.length),a=m[i],r=document.createElement("div");r.className="film-card";const Y=document.querySelector(".upcoming-film-image-container"),y=document.createElement("img");y.className="film-image",y.src=screen.width>=768?`https://image.tmdb.org/t/p/original/${a.backdrop_path}`:`https://image.tmdb.org/t/p/original/${a.poster_path}`,Y.appendChild(y);const C=document.createElement("h2");C.className="film-title",C.textContent=a.title.toUpperCase(),r.appendChild(C);const s=document.createElement("div");s.className="film-wrap",r.appendChild(s);const d=document.createElement("div");d.className="film-release-wrap",s.appendChild(d);const v=document.createElement("p");v.className="film-release-text",v.textContent="Release Date",d.appendChild(v);const E=document.createElement("p");E.className="film-release-date";const V=$(a.release_date);E.textContent=V,d.appendChild(E);const p=document.createElement("div");p.className="film-vote-wrap",s.appendChild(p);const L=document.createElement("p");L.className="film-vote-text",L.textContent="Vote / Votes",p.appendChild(L);const b=document.createElement("p");b.className="film-votes",b.innerHTML=`<span class="vote-average">${a.vote_average}</span> / <span class="vote-count">${a.vote_count}</span>`,p.appendChild(b);const f=document.createElement("div");f.className="film-popularity-wrap",s.appendChild(f);const k=document.createElement("p");k.className="film-rating-text",k.textContent="Popularity",f.appendChild(k);const N=document.createElement("p");N.className="film-rating",N.textContent=`${a.popularity.toFixed(1)}`,f.appendChild(N);const g=document.createElement("div");g.className="film-genre-wrap",s.appendChild(g);const x=document.createElement("p");x.className="film-genre-text",x.textContent="Genre",g.appendChild(x);const w=document.createElement("p");w.className="film-genre";const U=a.genre_ids.map(S=>n[S]);w.textContent=`${U.join(", ")}`,g.appendChild(w);const I=document.createElement("p");I.className="film-about",I.textContent="ABOUT",r.appendChild(I);const M=document.createElement("p");M.className="film-description",M.textContent=a.overview,r.appendChild(M);const o=document.createElement("button");o.className="library-button button btn-gradient",J(a.id)?(o.textContent="Remove from My Library",o.classList.remove("btn-gradient")):(o.textContent="Add to My Library",o.classList.add("btn-gradient")),o.addEventListener("click",()=>oe(a,o)),r.appendChild(o),document.getElementById("film-container").appendChild(r)}else{const i=document.createElement("p");i.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(i)}}})});G.Loading.remove();function J(e){return JSON.parse(localStorage.getItem("myLibrary")).some(t=>t.id===e)}function oe(e,n){const t=JSON.parse(localStorage.getItem("myLibrary")),c=t.findIndex(l=>l.id===e.id);c===-1?t.push(e):t.splice(c,1),localStorage.setItem("myLibrary",JSON.stringify(t)),J(e.id)?(n.textContent="Remove from My Library",n.classList.remove("btn-gradient"),n.style.background="white",n.style.color="orange"):(n.textContent="Add to My Library",n.classList.add("btn-gradient"),n.style.background="var(--basic-gradient)",n.style.color="black")}const T=document.getElementById("our-team-btn"),h=document.querySelector(".team__backdrop"),A=document.querySelector(".team__modal-close-btn"),O=document.querySelector("body");T.addEventListener("click",R);function R(e){e.preventDefault(),h.classList.remove("is-hidden"),document.body.classList.add("modal-open"),ie()}function Z(e){e.preventDefault(),e.code==="Escape"&&_()}function z(e){e.target.closest(".team__wrapper")||_()}function F(e){e.preventDefault(),_()}function ie(){document.addEventListener("keydown",Z),h.addEventListener("click",z),A.addEventListener("click",F),O.style.overflow="hidden"}function _(){document.removeEventListener("keydown",Z),h.removeEventListener("click",z),A.removeEventListener("click",F),h.classList.add("is-hidden"),document.body.classList.remove("modal-open"),O.style.overflow="auto"}T.addEventListener("click",R);te("hero/catalog");ae();ne();
