import{r as e,n as d,C as h,g as f,a as c,e as l,c as u,b as m,w as y}from"./header-4ee220f6.js";import{d as s}from"./get-default-data-fc0a2bd2.js";e.catalogForm.addEventListener("submit",v);async function g(a){try{const t={query:s.searchQuery,primary_release_year:s.searchYear,page:s.searchCurrentPage,region:s.searchRegion,year:s.searchYear},r=await f(t);(await r.results).length?(i(),p(r),e.catalogForm.reset()):(i(),L(),c(e.catalogList,l)),e.buttonReset.addEventListener("click",n=>{e.catalogForm.reset(),R()})}catch(t){console.error(t),i(),c(e.catalogList,l)}}async function v(a){a.preventDefault();const t=a.currentTarget,r=t.elements.searchQuery.value.trim(),o=t.elements.country.value,n=t.elements.year.value;r===""&&d.exports.Notify.failure("No movie specified!"),b(1,r,n,o),g(),new h(response,g()).activatePagination()}function p(a){screen.width<=767?u(a.results,e.catalogList,10):u(a.results,e.catalogList,20)}function L(){e.buttonReset.classList.remove("hidden"),e.buttonReset.classList.add("active")}function R(){e.buttonReset.classList.remove("active"),e.buttonReset.classList.add("hidden")}function i(){e.catalogList.innerHTML=""}function b(a=1,t,r,o){return s.searchCurrentPage=a,s.searchQuery=t,s.searchYear=r,s.searchRegion=o,{query:t,primary_release_year:r,page:a,region:o,year:r}}m();y();
