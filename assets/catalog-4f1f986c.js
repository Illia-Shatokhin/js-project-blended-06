import{r as e,n as g,d as a,g as h,C as d,a as c,e as i,c as u,b as f,w as m}from"./header-22ca46b8.js";import"./get-default-data-2dae3781.js";e.catalogForm.addEventListener("submit",y);async function l(r=1){try{const t={query:a.searchQuery,primary_release_year:a.searchYear,page:a.searchCurrentPage,region:a.searchRegion,year:a.searchYear},s=await h(t),n=s.results;new d(s,l).activatePagination(),n.length?(v(s),e.catalogForm.reset()):(L(),c(e.catalogList,i)),e.buttonReset.addEventListener("click",P=>{e.catalogForm.reset(),R()})}catch(t){console.error(t),p(),c(e.catalogList,i)}}async function y(r){r.preventDefault();const t=r.currentTarget,s=t.elements.searchQuery.value.trim(),n=t.elements.country.value,o=t.elements.year.value;s===""&&g.exports.Notify.failure("No movie specified!"),b(1,s,o,n),l()}function v(r){screen.width<=767?u(r.results,e.catalogList,10):u(r.results,e.catalogList,20)}function L(){e.buttonReset.classList.remove("hidden"),e.buttonReset.classList.add("active"),C()}function R(){e.buttonReset.classList.remove("active"),e.buttonReset.classList.add("hidden")}function p(){e.catalogList.innerHTML=""}function b(r,t,s,n){a.searchCurrentPage=r,a.searchQuery=t,a.searchYear=s,a.searchRegion=n}function C(){a.searchCurrentPage=0,a.searchQuery="",a.searchYear="",a.searchRegion=""}f();m();
