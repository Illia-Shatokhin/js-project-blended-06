import{h as F,c as k,r as w,o as O,b as R}from"./header-4b4ab67d.js";import"./get-default-data-0bab1d2d.js";async function Z(){try{const e=await F();screen.width<=767?k(e.results,w.weeklyLinks,1):k(e.results,w.weeklyLinks,3),w.weeklyLinks.addEventListener("click",O)}catch(e){console.error(e)}}const S=document.querySelector(".film-card");function z(e,a,t){const i=Math.round(e),l=i%2===0?i/2:(i-1)/2,r=Math.round(10-e),s=r%2===0?r/2:(r-1)/2,m=r%2!==0;for(let n=0;n<l;n++)S.insertAdjacentHTML("beforeend",j("icon-star-outline",a,t));m&&S.insertAdjacentHTML("beforeend",j("close",a,t));for(let n=0;n<s;n++)S.insertAdjacentHTML("beforeend",j("search",a,t))}z(7.51,40,40);function j(e,a,t){return`<svg class="icon-star" width="${a}" height="${t}">
      <use href="./img/symbols.svg#${e}"></use>
  </svg>`}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const G=new Date;G.getMonth();const T={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",T).then(e=>e.json()).then(e=>{const a={};e.genres.forEach(t=>{a[t.id]=t.name}),fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",T).then(t=>t.json()).then(t=>{const i=t.results;if(i.length===0){const r=document.createElement("p");r.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(r)}else{const r=G.getMonth()+1,s=[];if(i.forEach(m=>{new Date(m.release_date).getMonth()+1===r&&s.push(m)}),s.length>0){const m=Math.floor(Math.random()*s.length),n=s[m],o=document.createElement("div");o.className="film-card";const J=document.querySelector(".upcoming-film-image-container"),h=document.createElement("img");h.className="film-image",h.src=`https://image.tmdb.org/t/p/original/${n.backdrop_path}`,J.appendChild(h);const g=document.createElement("h2");g.className="film-title",g.textContent=n.title,o.appendChild(g);const d=document.createElement("div");d.className="film-release-wrap",o.appendChild(d);const y=document.createElement("p");y.className="film-release-text",y.textContent="Release Date",d.appendChild(y);const C=document.createElement("p");C.className="film-release-date",C.textContent=n.release_date,d.appendChild(C);const p=document.createElement("div");p.className="film-vote-wrap",o.appendChild(p);const b=document.createElement("p");b.className="film-vote-text",b.textContent="Vote / Votes",p.appendChild(b);const x=document.createElement("p");x.className="film-votes",x.textContent=`${n.vote_average} / ${n.vote_count}`,p.appendChild(x);const f=document.createElement("div");f.className="film-popularity-wrap",o.appendChild(f);const E=document.createElement("p");E.className="film-rating-text",E.textContent="Popularity",f.appendChild(E);const N=document.createElement("p");N.className="film-rating",N.textContent=`${n.popularity.toFixed(1)}`,f.appendChild(N);const u=document.createElement("div");u.className="film-genre-wrap",o.appendChild(u);const v=document.createElement("p");v.className="film-genre-text",v.textContent="Genre",u.appendChild(v);const I=document.createElement("p");I.className="film-genre";const W=n.genre_ids.map(D=>a[D]);I.textContent=`${W.join(", ")}`,u.appendChild(I);const M=document.createElement("p");M.className="film-about",M.textContent="ABOUT",o.appendChild(M);const L=document.createElement("p");L.className="film-description",L.textContent=n.overview,o.appendChild(L);const c=document.createElement("button");c.className="library-button button btn-gradient",A(n.id)?c.textContent="Remove from My Library":c.textContent="Add to My Library",c.addEventListener("click",()=>B(n,c)),o.appendChild(c),document.getElementById("film-container").appendChild(o)}else libraryButton.textContent="Add to My Library";libraryButton.addEventListener("click",()=>B(randomFilm,libraryButton)),filmCard.appendChild(libraryButton),document.getElementById("film-container").appendChild(filmCard)}const l=document.createElement("p");l.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(l)})});function A(e){return JSON.parse(localStorage.getItem("myLibrary")).some(t=>t.id===e)}function B(e,a){const t=JSON.parse(localStorage.getItem("myLibrary")),i=t.findIndex(l=>l.id===e.id);i===-1?t.push(e):t.splice(i,1),localStorage.setItem("myLibrary",JSON.stringify(t)),A(e.id)?a.textContent="Remove from My Library":a.textContent="Add to My Library"}R("hero/catalog");Z();
