import{r as e,n as d,d as a,g as y,C as f,a as i,e as c,c as l,b as m,w as v}from"./header-324dc843.js";import"./get-default-data-14de5bf9.js";e.catalogForm.addEventListener("submit",L);async function h(r=1){try{const t={query:a.searchQuery,primary_release_year:a.searchYear,page:a.searchCurrentPage,region:a.searchRegion,year:a.searchYear},s=await y(t),n=s.results;new f(s,h).activatePagination(),n.length?(p(s),e.catalogForm.reset(),u(),e.tuiPaginationContainer.style.display="block"):(C(),g(),i(e.catalogList,c),e.tuiPaginationContainer.style.display="none"),e.buttonReset.addEventListener("click",b=>{e.catalogForm.reset(),u()})}catch(t){console.error(t),g(),i(e.catalogList,c)}}async function L(r){r.preventDefault();const t=r.currentTarget,s=t.elements.searchQuery.value.trim(),n=t.elements.country.value,o=t.elements.year.value;s===""?d.exports.Notify.failure("No movie specified!"):(P(1,s,o,n),h())}function p(r){screen.width<=767?l(r.results,e.catalogList,10):l(r.results,e.catalogList,20)}function C(){e.buttonReset.classList.remove("hidden"),e.buttonReset.classList.add("active"),R()}function u(){e.buttonReset.classList.remove("active"),e.buttonReset.classList.add("hidden")}function g(){e.catalogList.innerHTML=""}function P(r,t,s,n){a.searchCurrentPage=r,a.searchQuery=t,a.searchYear=s,a.searchRegion=n}function R(){a.searchCurrentPage=0,a.searchQuery="",a.searchYear="",a.searchRegion=""}m("hero/catalog");v();
