import{b as j}from"./hero-2a043042.js";const y=document.querySelector(".film-card");function k(t){const s=Math.round(t),o=s%2===0?s/2:(s-1)/2,n=Math.round(10-t),i=n%2===0?n/2:(n-1)/2,m=n%2!==0;for(let r=0;r<o;r++)y.insertAdjacentHTML("beforeend",v(1));m&&y.insertAdjacentHTML("beforeend",v(.5));for(let r=0;r<i;r++)y.insertAdjacentHTML("beforeend",v(0))}k(10);console.log(y);function v(t){return`<p class="star-text" >${t}</p>`}function g(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var E={exports:{}};(function(t,s){(function(o){t.exports=o()})(function(){return function o(n,i,m){function r(a,c){if(!i[a]){if(!n[a]){var p=typeof g=="function"&&g;if(!c&&p)return p(a,!0);if(h)return h(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var e=i[a]={exports:{}};n[a][0].call(e.exports,function(u){return r(n[a][1][u]||u)},e,e.exports,o,n,i,m)}return i[a].exports}for(var h=typeof g=="function"&&g,l=0;l<m.length;l++)r(m[l]);return r}({1:[function(o,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.create=i.visible=void 0;var m=function(l){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=document.createElement("div");return c.innerHTML=l.trim(),a===!0?c.children:c.firstChild},r=function(l,a){var c=l.children;return c.length===1&&c[0].tagName===a},h=function(l){return(l=l||document.querySelector(".basicLightbox"))!=null&&l.ownerDocument.body.contains(l)===!0};i.visible=h,i.create=function(l,a){var c=function(e,u){var f=m(`
		<div class="basicLightbox `.concat(u.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),b=f.querySelector(".basicLightbox__placeholder");e.forEach(function(S){return b.appendChild(S)});var x=r(b,"IMG"),I=r(b,"VIDEO"),N=r(b,"IFRAME");return x===!0&&f.classList.add("basicLightbox--img"),I===!0&&f.classList.add("basicLightbox--video"),N===!0&&f.classList.add("basicLightbox--iframe"),f}(l=function(e){var u=typeof e=="string",f=e instanceof HTMLElement==1;if(u===!1&&f===!1)throw new Error("Content must be a DOM element/node or string");return u===!0?Array.from(m(e,!0)):e.tagName==="TEMPLATE"?[e.content.cloneNode(!0)]:Array.from(e.children)}(l),a=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((e=Object.assign({},e)).closable==null&&(e.closable=!0),e.className==null&&(e.className=""),e.onShow==null&&(e.onShow=function(){}),e.onClose==null&&(e.onClose=function(){}),typeof e.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof e.className!="string")throw new Error("Property `className` must be a string");if(typeof e.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof e.onClose!="function")throw new Error("Property `onClose` must be a function");return e}(a)),p=function(e){return a.onClose(d)!==!1&&function(u,f){return u.classList.remove("basicLightbox--visible"),setTimeout(function(){return h(u)===!1||u.parentElement.removeChild(u),f()},410),!0}(c,function(){if(typeof e=="function")return e(d)})};a.closable===!0&&c.addEventListener("click",function(e){e.target===c&&p()});var d={element:function(){return c},visible:function(){return h(c)},show:function(e){return a.onShow(d)!==!1&&function(u,f){return document.body.appendChild(u),setTimeout(function(){requestAnimationFrame(function(){return u.classList.add("basicLightbox--visible"),f()})},10),!0}(c,function(){if(typeof e=="function")return e(d)})},close:p};return d}},{}]},{},[1])(1)})})(E);const O="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNzgzN2Q4ZThiOWY1YjkyODFlNGYzODM2ZjQwZmMzMiIsInN1YiI6IjY0NzhmMTllMGUyOWEyMDBkY2I5YmFkYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Gm8FRVhZa5JYfHHhkK7gHuf4DwF_mvLWBXC6uzMdhLk",J="5788acd6bec4b8c2fc2e238d02649a74",_={method:"GET",params:{api_key:J,language:"en-US"},headers:{Authorization:`Bearer ${O}`,accept:"application/json"}};async function D(t){try{const s=`https://api.themoviedb.org/3/movie/${t}`,n=(await j.get(s,_)).data;return console.log(n),n}catch(s){console.log("Помилка запиту:",s)}}function T(t){const s=t.genres.map(r=>r.name).join(", "),o=t.vote_average.toFixed(1),n=t.popularity.toFixed(1),i=t.vote_count.toFixed(1);return`
<div class="modal-film-window">
  <button class="modal-close-btn">
     <svg class="modal-close-icon" width="100%" height="100%" >
        <use href="../img/symbols.svg#close" width="100%" height="100%"></use>
     </svg>
 </button>
 <img class="film-poster-img"  src="${`https://image.tmdb.org/t/p/w500${t.poster_path}`}" alt="poster of the selected film">
 <div class="about-film-wrapper">
 <h2 class="film-tittle">${t.original_title}</h2>
 <div class="film-list-wrapper">
 <ul class="first-about-film-list">
 <li class="about-film-item"> Vote / Votes</li>
 <li class="about-film-item">Popularity</li>
 <li class="about-film-item">Genre</li>
 </ul >
 <ul class="second-about-film-list">
     <li class="about-film-item"> ${o} / ${i}</li>
     <li class="about-film-item">${n}</li>
     <li class="about-film-item">${s}</li>
 </ul>
 </div>
 <p class="about-film-tittle">About </p>
 <p class="about-film-story">${t.overview} </p>
 <button class=" button btn-border-dark add-film-btn button-library">Add to my library</button>
 </div>
</div>`}let L;async function A(t){const s=await D(t),o=T(s);L=E.exports.create(o,{closable:!0,onShow:n=>{n.element().querySelector(".modal-close-btn").addEventListener("click",()=>{n.close()}),document.addEventListener("keydown",w)},onClose:n=>{n.element().querySelector(".modal-close-btn").removeEventListener("click",()=>{n.close()}),document.removeEventListener("keydown",w)}}),L.show(),document.querySelector(".button-library").addEventListener("click",n=>{console.log(n),Y(s)})}function w(t){t.code==="Escape"&&(L.close(),document.removeEventListener("keydown",w))}document.querySelector(".modal-open").onclick=A;function Y(t){const s="movie-details",o=JSON.stringify(t.id);localStorage.setItem(s,o),document.querySelector(".button-library"),document.querySelector(".button-library").textContent="Remove from my library"}localStorage.getItem("myLibrary")||localStorage.setItem("myLibrary",JSON.stringify([]));const M=new Date;M.getMonth();const z={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzcwNGY3NWVjYTA3MmEwNGFiODBiNzBjOTQ5ZWZjMiIsInN1YiI6IjY0Nzg0ZWFkY2Y0YjhiMDEwMzFjZWZjZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGp4SG4w1Ow4nxzAlMDbe5phup9IwpC6GqyzdUZE9ZM"}};fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",z).then(t=>t.json()).then(t=>{const s=t.results;if(s.length===0){const o=document.createElement("p");o.textContent="No upcoming films found.",document.getElementById("film-container").appendChild(o)}else{const o=M.getMonth()+1,n=[];if(s.forEach(i=>{new Date(i.release_date).getMonth()+1===o&&n.push(i)}),n.length>0){const i=Math.floor(Math.random()*n.length),m=n[i],r=document.createElement("div");r.className="film-card";const h=document.querySelector(".upcoming-film-image-container"),l=document.createElement("img");l.className="film-image",l.src=`https://image.tmdb.org/t/p/original/${m.backdrop_path}`,h.appendChild(l);const a=document.createElement("h2");a.className="film-title",a.textContent=m.title,r.appendChild(a);const c=document.createElement("p");c.className="film-release-date",c.textContent=`Release Date: ${m.release_date}`,r.appendChild(c);const p=document.createElement("p");p.className="film-rating",p.textContent=`Rating: ${m.vote_average}`,r.appendChild(p);const d=document.createElement("p");d.className="film-description",d.textContent=m.overview,r.appendChild(d);const e=document.createElement("button");e.className="library-button button btn-gradient",C(m.id)?e.textContent="Remove from My Library":e.textContent="Add to My Library",e.addEventListener("click",()=>q(m,e)),r.appendChild(e),document.getElementById("film-container").appendChild(r)}else{const i=document.createElement("p");i.textContent="No upcoming films found for this month.",document.getElementById("film-container").appendChild(i)}}});function C(t){return JSON.parse(localStorage.getItem("myLibrary")).some(o=>o.id===t)}function q(t,s){const o=JSON.parse(localStorage.getItem("myLibrary")),n=o.findIndex(i=>i.id===t.id);n===-1?o.push(t):o.splice(n,1),localStorage.setItem("myLibrary",JSON.stringify(o)),C(t.id)?s.textContent="Remove from My Library":s.textContent="Add to My Library"}
